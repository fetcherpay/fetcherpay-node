{"version":3,"file":"index.js","sources":["../src/types/index.ts","../src/api/payments.ts","../src/api/ledger.ts","../src/api/payment-methods.ts","../src/api/webhooks.ts","../src/client.ts"],"sourcesContent":["/**\n * FetcherPay SDK Types\n */\n\nexport interface FetcherPayConfig {\n  apiKey: string;\n  environment?: 'sandbox' | 'production';\n  baseUrl?: string;\n  timeout?: number;\n}\n\nexport interface Payment {\n  id: string;\n  object: 'payment';\n  status: 'pending' | 'authorized' | 'processing' | 'settled' | 'failed' | 'cancelled' | 'refunded' | 'partially_refunded';\n  amount: number;\n  currency: string;\n  rail: string;\n  rail_selected: string;\n  description?: string;\n  source: PaymentSource;\n  destination: PaymentDestination;\n  fee?: Fee;\n  timeline: TimelineEvent[];\n  ledger_entry_ids: string[];\n  refunds: Refund[];\n  idempotency_key?: string;\n  metadata: Record<string, any>;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface PaymentSource {\n  payment_method_id: string;\n  name?: string | null;\n  type?: string;\n}\n\nexport interface PaymentDestination {\n  payment_method_id: string;\n  name?: string | null;\n  type?: string;\n}\n\nexport interface Fee {\n  amount: number;\n  rate: string;\n}\n\nexport interface TimelineEvent {\n  status: string;\n  timestamp: string;\n  detail: string;\n}\n\nexport interface Refund {\n  id: string;\n  payment_id: string;\n  amount: number;\n  reason?: string | null;\n  status: string;\n  created_at: string;\n}\n\nexport interface CreatePaymentRequest {\n  amount: number;\n  currency?: string;\n  rail?: 'auto' | 'ach' | 'rtp' | 'card' | 'crypto';\n  rail_fallback_order?: string[];\n  description?: string;\n  source: PaymentSource;\n  destination: PaymentDestination;\n  metadata?: Record<string, any>;\n}\n\nexport interface PaymentMethod {\n  id: string;\n  object: 'payment_method';\n  type: 'bank_account' | 'card' | 'usdc_wallet';\n  status: 'active' | 'inactive' | 'verification_required';\n  bank_account?: BankAccount;\n  card?: Card;\n  usdc_wallet?: UsdcWallet;\n  metadata: Record<string, any>;\n  created_at: string;\n}\n\nexport interface BankAccount {\n  account_type: 'checking' | 'savings';\n  bank_name?: string;\n  routing_number_last4: string;\n  account_number_last4: string;\n}\n\nexport interface Card {\n  brand: string;\n  last4: string;\n  exp_month: number;\n  exp_year: number;\n}\n\nexport interface UsdcWallet {\n  address: string;\n  network: 'ethereum' | 'polygon';\n}\n\nexport interface CreatePaymentMethodRequest {\n  type: 'bank_account' | 'card' | 'usdc_wallet';\n  bank_account?: {\n    account_number: string;\n    routing_number: string;\n    account_type: 'checking' | 'savings';\n  };\n  card?: {\n    number: string;\n    exp_month: number;\n    exp_year: number;\n    cvc: string;\n  };\n  usdc_wallet?: {\n    address: string;\n    network: string;\n  };\n  metadata?: Record<string, any>;\n}\n\nexport interface LedgerAccount {\n  id: string;\n  object: 'ledger_account';\n  name: string;\n  type: 'asset' | 'liability' | 'revenue' | 'expense' | 'equity';\n  currency: string;\n  balance: {\n    pending: number;\n    posted: number;\n    available: number;\n  };\n  metadata: Record<string, any>;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface LedgerEntry {\n  id: string;\n  object: 'ledger_entry';\n  journal_id: string;\n  account_id: string;\n  payment_id?: string;\n  entry_type: 'debit' | 'credit';\n  amount: number;\n  currency: string;\n  status: 'pending' | 'posted';\n  description?: string;\n  metadata: Record<string, any>;\n  created_at: string;\n}\n\nexport interface WebhookEndpoint {\n  id: string;\n  object: 'webhook_endpoint';\n  url: string;\n  events: string[];\n  status: 'active' | 'disabled';\n  secret: string;\n  metadata: Record<string, any>;\n  created_at: string;\n}\n\nexport interface CreateWebhookRequest {\n  url: string;\n  events?: string[];\n  metadata?: Record<string, any>;\n}\n\nexport interface WebhookEvent {\n  id: string;\n  object: 'event';\n  type: string;\n  created_at: string;\n  data: any;\n}\n\nexport interface ListResponse<T> {\n  data: T[];\n  has_more: boolean;\n  next_cursor: string | null;\n}\n\nexport interface PaginationParams {\n  cursor?: string;\n  limit?: number;\n}\n\nexport interface FilterParams {\n  created_after?: string;\n  created_before?: string;\n}\n\nexport class FetcherPayError extends Error {\n  constructor(\n    message: string,\n    public type: string,\n    public statusCode?: number,\n    public param?: string | null,\n    public code?: string | null\n  ) {\n    super(message);\n    this.name = 'FetcherPayError';\n  }\n}\n\nexport class AuthenticationError extends FetcherPayError {\n  constructor(message: string) {\n    super(message, 'authentication_error', 401);\n  }\n}\n\nexport class ValidationError extends FetcherPayError {\n  constructor(message: string, param?: string) {\n    super(message, 'validation_error', 422, param);\n  }\n}\n\nexport class NotFoundError extends FetcherPayError {\n  constructor(message: string) {\n    super(message, 'not_found', 404);\n  }\n}\n","import { AxiosInstance } from 'axios';\nimport {\n  Payment,\n  CreatePaymentRequest,\n  ListResponse,\n  PaginationParams,\n  FilterParams,\n} from '../types';\n\n/**\n * Payments API client\n */\nexport class PaymentsClient {\n  constructor(private http: AxiosInstance) {}\n\n  /**\n   * Create a new payment\n   */\n  async create(params: CreatePaymentRequest, idempotencyKey?: string): Promise<Payment> {\n    const headers: Record<string, string> = {};\n    if (idempotencyKey) {\n      headers['Idempotency-Key'] = idempotencyKey;\n    }\n\n    const response = await this.http.post('/payments', params, { headers });\n    return response.data;\n  }\n\n  /**\n   * Retrieve a payment by ID\n   */\n  async retrieve(paymentId: string): Promise<Payment> {\n    const response = await this.http.get(`/payments/${paymentId}`);\n    return response.data;\n  }\n\n  /**\n   * List all payments\n   */\n  async list(params?: PaginationParams & FilterParams & { status?: string; rail?: string }): Promise<ListResponse<Payment>> {\n    const response = await this.http.get('/payments', { params });\n    return response.data;\n  }\n\n  /**\n   * Cancel a pending payment\n   */\n  async cancel(paymentId: string, reason?: string, idempotencyKey?: string): Promise<Payment> {\n    const headers: Record<string, string> = {};\n    if (idempotencyKey) {\n      headers['Idempotency-Key'] = idempotencyKey;\n    }\n\n    const response = await this.http.post(\n      `/payments/${paymentId}/cancel`,\n      reason ? { reason } : {},\n      { headers }\n    );\n    return response.data;\n  }\n\n  /**\n   * Refund a settled payment\n   */\n  async refund(\n    paymentId: string,\n    params?: { amount?: number; reason?: string },\n    idempotencyKey?: string\n  ): Promise<Payment> {\n    const headers: Record<string, string> = {};\n    if (idempotencyKey) {\n      headers['Idempotency-Key'] = idempotencyKey;\n    }\n\n    const response = await this.http.post(\n      `/payments/${paymentId}/refund`,\n      params || {},\n      { headers }\n    );\n    return response.data;\n  }\n}\n","import { AxiosInstance } from 'axios';\nimport {\n  LedgerAccount,\n  LedgerEntry,\n  ListResponse,\n  PaginationParams,\n} from '../types';\n\n/**\n * Ledger API client\n */\nexport class LedgerClient {\n  constructor(private http: AxiosInstance) {}\n\n  /**\n   * List all ledger accounts\n   */\n  async listAccounts(params?: PaginationParams & { type?: string }): Promise<ListResponse<LedgerAccount>> {\n    const response = await this.http.get('/ledger/accounts', { params });\n    return response.data;\n  }\n\n  /**\n   * Retrieve a ledger account by ID\n   */\n  async retrieveAccount(accountId: string): Promise<LedgerAccount> {\n    const response = await this.http.get(`/ledger/accounts/${accountId}`);\n    return response.data;\n  }\n\n  /**\n   * List all ledger entries\n   */\n  async listEntries(params?: PaginationParams & {\n    account_id?: string;\n    payment_id?: string;\n    entry_type?: string;\n  }): Promise<ListResponse<LedgerEntry>> {\n    const response = await this.http.get('/ledger/entries', { params });\n    return response.data;\n  }\n\n  /**\n   * Retrieve a ledger entry by ID\n   */\n  async retrieveEntry(entryId: string): Promise<LedgerEntry> {\n    const response = await this.http.get(`/ledger/entries/${entryId}`);\n    return response.data;\n  }\n}\n","import { AxiosInstance } from 'axios';\nimport {\n  PaymentMethod,\n  CreatePaymentMethodRequest,\n  ListResponse,\n  PaginationParams,\n} from '../types';\n\n/**\n * Payment Methods API client\n */\nexport class PaymentMethodsClient {\n  constructor(private http: AxiosInstance) {}\n\n  /**\n   * Create a new payment method\n   */\n  async create(params: CreatePaymentMethodRequest, idempotencyKey?: string): Promise<PaymentMethod> {\n    const headers: Record<string, string> = {};\n    if (idempotencyKey) {\n      headers['Idempotency-Key'] = idempotencyKey;\n    }\n\n    const response = await this.http.post('/payment-methods', params, { headers });\n    return response.data;\n  }\n\n  /**\n   * Retrieve a payment method by ID\n   */\n  async retrieve(paymentMethodId: string): Promise<PaymentMethod> {\n    const response = await this.http.get(`/payment-methods/${paymentMethodId}`);\n    return response.data;\n  }\n\n  /**\n   * List all payment methods\n   */\n  async list(params?: PaginationParams & { type?: string }): Promise<ListResponse<PaymentMethod>> {\n    const response = await this.http.get('/payment-methods', { params });\n    return response.data;\n  }\n\n  /**\n   * Delete a payment method\n   */\n  async delete(paymentMethodId: string): Promise<void> {\n    await this.http.delete(`/payment-methods/${paymentMethodId}`);\n  }\n}\n","import { AxiosInstance } from 'axios';\nimport {\n  WebhookEndpoint,\n  CreateWebhookRequest,\n  ListResponse,\n  PaginationParams,\n} from '../types';\n\n/**\n * Webhooks API client\n */\nexport class WebhooksClient {\n  constructor(private http: AxiosInstance) {}\n\n  /**\n   * Create a new webhook endpoint\n   */\n  async create(params: CreateWebhookRequest, idempotencyKey?: string): Promise<WebhookEndpoint> {\n    const headers: Record<string, string> = {};\n    if (idempotencyKey) {\n      headers['Idempotency-Key'] = idempotencyKey;\n    }\n\n    const response = await this.http.post('/webhooks', params, { headers });\n    return response.data;\n  }\n\n  /**\n   * Retrieve a webhook endpoint by ID\n   */\n  async retrieve(webhookId: string): Promise<WebhookEndpoint> {\n    const response = await this.http.get(`/webhooks/${webhookId}`);\n    return response.data;\n  }\n\n  /**\n   * List all webhook endpoints\n   */\n  async list(params?: PaginationParams): Promise<ListResponse<WebhookEndpoint>> {\n    const response = await this.http.get('/webhooks', { params });\n    return response.data;\n  }\n\n  /**\n   * Update a webhook endpoint\n   */\n  async update(webhookId: string, params: Partial<CreateWebhookRequest>): Promise<WebhookEndpoint> {\n    const response = await this.http.put(`/webhooks/${webhookId}`, params);\n    return response.data;\n  }\n\n  /**\n   * Delete a webhook endpoint\n   */\n  async delete(webhookId: string): Promise<void> {\n    await this.http.delete(`/webhooks/${webhookId}`);\n  }\n}\n","import axios, { AxiosInstance, AxiosError } from 'axios';\nimport {\n  FetcherPayConfig,\n  FetcherPayError,\n  AuthenticationError,\n  ValidationError,\n  NotFoundError,\n} from './types';\nimport { PaymentsClient } from './api/payments';\nimport { LedgerClient } from './api/ledger';\nimport { PaymentMethodsClient } from './api/payment-methods';\nimport { WebhooksClient } from './api/webhooks';\n\n/**\n * Main FetcherPay client\n */\nexport class FetcherPay {\n  private http: AxiosInstance;\n  public payments: PaymentsClient;\n  public ledger: LedgerClient;\n  public paymentMethods: PaymentMethodsClient;\n  public webhooks: WebhooksClient;\n\n  constructor(config: FetcherPayConfig) {\n    const baseUrl = config.baseUrl || (\n      config.environment === 'production'\n        ? 'https://api.fetcherpay.com/v1'\n        : 'https://sandbox.fetcherpay.com/v1'\n    );\n\n    this.http = axios.create({\n      baseURL: baseUrl,\n      timeout: config.timeout || 30000,\n      headers: {\n        'Authorization': `Bearer ${config.apiKey}`,\n        'Content-Type': 'application/json',\n      },\n    });\n\n    // Response interceptor for error handling\n    this.http.interceptors.response.use(\n      (response) => response,\n      (error: AxiosError) => {\n        if (error.response) {\n          const { status, data } = error.response;\n          const errorData = (data as any)?.error || {};\n\n          switch (status) {\n            case 401:\n              throw new AuthenticationError(errorData.message || 'Authentication failed');\n            case 404:\n              throw new NotFoundError(errorData.message || 'Resource not found');\n            case 422:\n              throw new ValidationError(errorData.message || 'Validation failed', errorData.param);\n            default:\n              throw new FetcherPayError(\n                errorData.message || 'An error occurred',\n                errorData.type || 'api_error',\n                status,\n                errorData.param,\n                errorData.code\n              );\n          }\n        }\n        throw error;\n      }\n    );\n\n    // Initialize API clients\n    this.payments = new PaymentsClient(this.http);\n    this.ledger = new LedgerClient(this.http);\n    this.paymentMethods = new PaymentMethodsClient(this.http);\n    this.webhooks = new WebhooksClient(this.http);\n  }\n\n  /**\n   * Verify webhook signature\n   */\n  verifyWebhookSignature(payload: string, signature: string, secret: string): boolean {\n    const crypto = require('crypto');\n    const expected = crypto\n      .createHmac('sha256', secret)\n      .update(payload)\n      .digest('hex');\n    \n    try {\n      return crypto.timingSafeEqual(\n        Buffer.from(signature),\n        Buffer.from(expected)\n      );\n    } catch {\n      return false;\n    }\n  }\n}\n\nexport default FetcherPay;\n"],"names":[],"mappings":";;;;AAAA;;AAEG;AAoMG,MAAO,eAAgB,SAAQ,KAAK,CAAA;IACxC,WACE,CAAA,OAAe,EACR,IAAY,EACZ,UAAmB,EACnB,KAAqB,EACrB,IAAoB,EAAA;QAE3B,KAAK,CAAC,OAAO,CAAC,CAAC;QALR,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAQ;QACZ,IAAU,CAAA,UAAA,GAAV,UAAU,CAAS;QACnB,IAAK,CAAA,KAAA,GAAL,KAAK,CAAgB;QACrB,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAgB;AAG3B,QAAA,IAAI,CAAC,IAAI,GAAG,iBAAiB,CAAC;KAC/B;AACF,CAAA;AAEK,MAAO,mBAAoB,SAAQ,eAAe,CAAA;AACtD,IAAA,WAAA,CAAY,OAAe,EAAA;AACzB,QAAA,KAAK,CAAC,OAAO,EAAE,sBAAsB,EAAE,GAAG,CAAC,CAAC;KAC7C;AACF,CAAA;AAEK,MAAO,eAAgB,SAAQ,eAAe,CAAA;IAClD,WAAY,CAAA,OAAe,EAAE,KAAc,EAAA;QACzC,KAAK,CAAC,OAAO,EAAE,kBAAkB,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;KAChD;AACF,CAAA;AAEK,MAAO,aAAc,SAAQ,eAAe,CAAA;AAChD,IAAA,WAAA,CAAY,OAAe,EAAA;AACzB,QAAA,KAAK,CAAC,OAAO,EAAE,WAAW,EAAE,GAAG,CAAC,CAAC;KAClC;AACF;;AC1ND;;AAEG;MACU,cAAc,CAAA;AACzB,IAAA,WAAA,CAAoB,IAAmB,EAAA;QAAnB,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAe;KAAI;AAE3C;;AAEG;AACH,IAAA,MAAM,MAAM,CAAC,MAA4B,EAAE,cAAuB,EAAA;QAChE,MAAM,OAAO,GAA2B,EAAE,CAAC;QAC3C,IAAI,cAAc,EAAE;AAClB,YAAA,OAAO,CAAC,iBAAiB,CAAC,GAAG,cAAc,CAAC;SAC7C;AAED,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,MAAM,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC;QACxE,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AAED;;AAEG;IACH,MAAM,QAAQ,CAAC,SAAiB,EAAA;AAC9B,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA,UAAA,EAAa,SAAS,CAAA,CAAE,CAAC,CAAC;QAC/D,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AAED;;AAEG;IACH,MAAM,IAAI,CAAC,MAA6E,EAAA;AACtF,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,EAAE,MAAM,EAAE,CAAC,CAAC;QAC9D,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AAED;;AAEG;AACH,IAAA,MAAM,MAAM,CAAC,SAAiB,EAAE,MAAe,EAAE,cAAuB,EAAA;QACtE,MAAM,OAAO,GAA2B,EAAE,CAAC;QAC3C,IAAI,cAAc,EAAE;AAClB,YAAA,OAAO,CAAC,iBAAiB,CAAC,GAAG,cAAc,CAAC;SAC7C;AAED,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CACnC,CAAA,UAAA,EAAa,SAAS,CAAA,OAAA,CAAS,EAC/B,MAAM,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,EACxB,EAAE,OAAO,EAAE,CACZ,CAAC;QACF,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AAED;;AAEG;AACH,IAAA,MAAM,MAAM,CACV,SAAiB,EACjB,MAA6C,EAC7C,cAAuB,EAAA;QAEvB,MAAM,OAAO,GAA2B,EAAE,CAAC;QAC3C,IAAI,cAAc,EAAE;AAClB,YAAA,OAAO,CAAC,iBAAiB,CAAC,GAAG,cAAc,CAAC;SAC7C;QAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CACnC,CAAA,UAAA,EAAa,SAAS,CAAS,OAAA,CAAA,EAC/B,MAAM,IAAI,EAAE,EACZ,EAAE,OAAO,EAAE,CACZ,CAAC;QACF,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AACF;;ACzED;;AAEG;MACU,YAAY,CAAA;AACvB,IAAA,WAAA,CAAoB,IAAmB,EAAA;QAAnB,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAe;KAAI;AAE3C;;AAEG;IACH,MAAM,YAAY,CAAC,MAA6C,EAAA;AAC9D,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,kBAAkB,EAAE,EAAE,MAAM,EAAE,CAAC,CAAC;QACrE,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AAED;;AAEG;IACH,MAAM,eAAe,CAAC,SAAiB,EAAA;AACrC,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA,iBAAA,EAAoB,SAAS,CAAA,CAAE,CAAC,CAAC;QACtE,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AAED;;AAEG;IACH,MAAM,WAAW,CAAC,MAIjB,EAAA;AACC,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,iBAAiB,EAAE,EAAE,MAAM,EAAE,CAAC,CAAC;QACpE,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AAED;;AAEG;IACH,MAAM,aAAa,CAAC,OAAe,EAAA;AACjC,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA,gBAAA,EAAmB,OAAO,CAAA,CAAE,CAAC,CAAC;QACnE,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AACF;;ACzCD;;AAEG;MACU,oBAAoB,CAAA;AAC/B,IAAA,WAAA,CAAoB,IAAmB,EAAA;QAAnB,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAe;KAAI;AAE3C;;AAEG;AACH,IAAA,MAAM,MAAM,CAAC,MAAkC,EAAE,cAAuB,EAAA;QACtE,MAAM,OAAO,GAA2B,EAAE,CAAC;QAC3C,IAAI,cAAc,EAAE;AAClB,YAAA,OAAO,CAAC,iBAAiB,CAAC,GAAG,cAAc,CAAC;SAC7C;AAED,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,MAAM,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC;QAC/E,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AAED;;AAEG;IACH,MAAM,QAAQ,CAAC,eAAuB,EAAA;AACpC,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA,iBAAA,EAAoB,eAAe,CAAA,CAAE,CAAC,CAAC;QAC5E,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AAED;;AAEG;IACH,MAAM,IAAI,CAAC,MAA6C,EAAA;AACtD,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,kBAAkB,EAAE,EAAE,MAAM,EAAE,CAAC,CAAC;QACrE,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AAED;;AAEG;IACH,MAAM,MAAM,CAAC,eAAuB,EAAA;QAClC,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAoB,iBAAA,EAAA,eAAe,CAAE,CAAA,CAAC,CAAC;KAC/D;AACF;;ACzCD;;AAEG;MACU,cAAc,CAAA;AACzB,IAAA,WAAA,CAAoB,IAAmB,EAAA;QAAnB,IAAI,CAAA,IAAA,GAAJ,IAAI,CAAe;KAAI;AAE3C;;AAEG;AACH,IAAA,MAAM,MAAM,CAAC,MAA4B,EAAE,cAAuB,EAAA;QAChE,MAAM,OAAO,GAA2B,EAAE,CAAC;QAC3C,IAAI,cAAc,EAAE;AAClB,YAAA,OAAO,CAAC,iBAAiB,CAAC,GAAG,cAAc,CAAC;SAC7C;AAED,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,MAAM,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC;QACxE,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AAED;;AAEG;IACH,MAAM,QAAQ,CAAC,SAAiB,EAAA;AAC9B,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA,UAAA,EAAa,SAAS,CAAA,CAAE,CAAC,CAAC;QAC/D,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AAED;;AAEG;IACH,MAAM,IAAI,CAAC,MAAyB,EAAA;AAClC,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,EAAE,MAAM,EAAE,CAAC,CAAC;QAC9D,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AAED;;AAEG;AACH,IAAA,MAAM,MAAM,CAAC,SAAiB,EAAE,MAAqC,EAAA;AACnE,QAAA,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,SAAS,CAAA,CAAE,EAAE,MAAM,CAAC,CAAC;QACvE,OAAO,QAAQ,CAAC,IAAI,CAAC;KACtB;AAED;;AAEG;IACH,MAAM,MAAM,CAAC,SAAiB,EAAA;QAC5B,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAa,UAAA,EAAA,SAAS,CAAE,CAAA,CAAC,CAAC;KAClD;AACF;;AC5CD;;AAEG;MACU,UAAU,CAAA;AAOrB,IAAA,WAAA,CAAY,MAAwB,EAAA;QAClC,MAAM,OAAO,GAAG,MAAM,CAAC,OAAO,KAC5B,MAAM,CAAC,WAAW,KAAK,YAAY;AACjC,cAAE,+BAA+B;cAC/B,mCAAmC,CACxC,CAAC;AAEF,QAAA,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC;AACvB,YAAA,OAAO,EAAE,OAAO;AAChB,YAAA,OAAO,EAAE,MAAM,CAAC,OAAO,IAAI,KAAK;AAChC,YAAA,OAAO,EAAE;AACP,gBAAA,eAAe,EAAE,CAAA,OAAA,EAAU,MAAM,CAAC,MAAM,CAAE,CAAA;AAC1C,gBAAA,cAAc,EAAE,kBAAkB;AACnC,aAAA;AACF,SAAA,CAAC,CAAC;;AAGH,QAAA,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,GAAG,CACjC,CAAC,QAAQ,KAAK,QAAQ,EACtB,CAAC,KAAiB,KAAI;AACpB,YAAA,IAAI,KAAK,CAAC,QAAQ,EAAE;gBAClB,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,KAAK,CAAC,QAAQ,CAAC;AACxC,gBAAA,MAAM,SAAS,GAAI,IAAY,EAAE,KAAK,IAAI,EAAE,CAAC;gBAE7C,QAAQ,MAAM;AACZ,oBAAA,KAAK,GAAG;wBACN,MAAM,IAAI,mBAAmB,CAAC,SAAS,CAAC,OAAO,IAAI,uBAAuB,CAAC,CAAC;AAC9E,oBAAA,KAAK,GAAG;wBACN,MAAM,IAAI,aAAa,CAAC,SAAS,CAAC,OAAO,IAAI,oBAAoB,CAAC,CAAC;AACrE,oBAAA,KAAK,GAAG;AACN,wBAAA,MAAM,IAAI,eAAe,CAAC,SAAS,CAAC,OAAO,IAAI,mBAAmB,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC;AACvF,oBAAA;wBACE,MAAM,IAAI,eAAe,CACvB,SAAS,CAAC,OAAO,IAAI,mBAAmB,EACxC,SAAS,CAAC,IAAI,IAAI,WAAW,EAC7B,MAAM,EACN,SAAS,CAAC,KAAK,EACf,SAAS,CAAC,IAAI,CACf,CAAC;iBACL;aACF;AACD,YAAA,MAAM,KAAK,CAAC;AACd,SAAC,CACF,CAAC;;QAGF,IAAI,CAAC,QAAQ,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC1C,IAAI,CAAC,cAAc,GAAG,IAAI,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC1D,IAAI,CAAC,QAAQ,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC/C;AAED;;AAEG;AACH,IAAA,sBAAsB,CAAC,OAAe,EAAE,SAAiB,EAAE,MAAc,EAAA;AACvE,QAAA,MAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;QACjC,MAAM,QAAQ,GAAG,MAAM;AACpB,aAAA,UAAU,CAAC,QAAQ,EAAE,MAAM,CAAC;aAC5B,MAAM,CAAC,OAAO,CAAC;aACf,MAAM,CAAC,KAAK,CAAC,CAAC;AAEjB,QAAA,IAAI;AACF,YAAA,OAAO,MAAM,CAAC,eAAe,CAC3B,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,EACtB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CACtB,CAAC;SACH;AAAC,QAAA,MAAM;AACN,YAAA,OAAO,KAAK,CAAC;SACd;KACF;AACF;;;;;;;;;;;;"}